<?phprequire_once get_template_directory() . "/utils/item_counter.php";Instagram_Item::$item_counter += 1;/** * Smash Balloon Instagram Feed Item Template * Adds an image, link, and other data for each post in the feed * * @version 2.9 Instagram Feed by Smash Balloon * */// Don't load directlyif (!defined('ABSPATH')) {    die('-1');}$classes = SB_Instagram_Display_Elements::get_item_classes($settings, $post);$post_id = SB_Instagram_Parse::get_post_id($post);$timestamp = SB_Instagram_Parse::get_timestamp($post);$media_type = SB_Instagram_Parse::get_media_type($post);$permalink = SB_Instagram_Parse::get_permalink($post);$maybe_carousel_icon = $media_type === 'carousel' ? SB_Instagram_Display_Elements::get_icon('carousel', $icon_type) : '';$maybe_video_icon = $media_type === 'video' ? SB_Instagram_Display_Elements::get_icon('video', $icon_type) : '';$media_url = SB_Instagram_Display_Elements::get_optimum_media_url($post, $settings, $resized_images);$media_full_res = SB_Instagram_Parse::get_media_url($post);$sbi_photo_style_element = SB_Instagram_Display_Elements::get_sbi_photo_style_element($post, $settings); // has already been escaped$media_all_sizes_json = SB_Instagram_Parse::get_media_src_set($post, $resized_images);/** * Text that appears in the "alt" attribute for this image * * @param string $img_alt full caption for post * @param array $post api data for the post * * @since 2.1.5 */$img_alt = SB_Instagram_Parse::get_caption($post, sprintf(__('Instagram post %s', 'instagram-feed'), $post_id));$img_alt = apply_filters('sbi_img_alt', $img_alt, $post);/** * Text that appears in the visually hidden screen reader element * * @param string $img_screenreader first 50 characters for post * @param array $post api data for the post * * @since 2.1.5 */$img_screenreader = substr(SB_Instagram_Parse::get_caption($post, sprintf(__('Instagram post %s', 'instagram-feed'), $post_id)), 0, 50);$img_screenreader = apply_filters('sbi_img_screenreader', $img_screenreader, $post);?><?php if (Instagram_Item::$item_counter == 1): ?>    <div class="col-md-6">        <a href="<?php echo $permalink ?>" target="_blank">            <div class="instagram-big-item"                 style="background: url(<?php echo esc_url($media_full_res) ?>)no-repeat center center; background-size: cover;">                <div class="gradient">                    <div class="content">                        <?php if (!strpos(esc_attr($img_alt), "post")) {                            $str = esc_attr($img_alt);                            $hashtags = [];                            $matches = [];                            preg_match_all('/@(\w+)/u', $str, $matches);                            foreach ($matches[0] as $match) {                                $str = str_replace($match, '', $str);                                array_push($hashtags, $match);                            }                            preg_match_all('/#(\w+)/u', $str, $matches);                            console_log($matches);                            foreach ($matches[0] as $match) {                                $str = str_replace($match, '', $str);                                array_push($hashtags, $match);                            }                            echo '<p>' . $str . '</p>';                            echo '<hr>';                            echo '<ul class="hashtag">';                            foreach ($hashtags as $hashtag) {                                echo '<li>' . $hashtag . '</li>';                            }                            echo '</ul>';                        } ?>                        <?php                        ?>                    </div>                </div>            </div>        </a>    </div><?php elseif (Instagram_Item::$item_counter % 2 == 0): ?>    <div class="col-md-3">    <a href="<?php echo $permalink ?>" target="_blank">        <div class="instagram-mini-item"             style="background: url(<?php echo esc_url($media_full_res) ?>)no-repeat center center; background-size: cover;">            <div class="gradient-mini">                <!--<div class="content">                    <?php /*if (!strpos(esc_attr($img_alt), "post")) {                        $str = esc_attr($img_alt);                        $hashtags = [];                        $matches = [];                        preg_match_all('/@(\w+)/', $str, $matches);                        foreach ($matches[0] as $match) {                            array_push($hashtags, $match);                        }                        preg_match_all('/#(\w+)/', $str, $matches);                        foreach ($matches[0] as $match) {                            array_push($hashtags, $match);                        }                        echo '<ul class="hashtag">';                        foreach ($hashtags as $hashtag) {                            echo '<li>' . $hashtag . '</li>';                        }                        echo '</ul>';                    } */?>                    <?php/*                    */?>                </div>-->            </div>        </div>    </a><?php elseif ((Instagram_Item::$item_counter - 1) % 2 == 0): ?>    <a href="<?php echo $permalink ?>">        <div class="instagram-mini-item"             style="background: url(<?php echo esc_url($media_full_res) ?>)no-repeat center center; background-size: cover;">            <div class="gradient-mini">                <!--<div class="content">                    <?php /*if (!strpos(esc_attr($img_alt), "post")) {                        $str = esc_attr($img_alt);                        $hashtags = [];                        $matches = [];                        preg_match_all('/@(\w+)/', $str, $matches);                        foreach ($matches[0] as $match) {                            $str = str_replace($match, '', $str);                            array_push($hashtags, $match);                        }                        preg_match_all('/#(\w+)/', $str, $matches);                        foreach ($matches[0] as $match) {                            $str = str_replace($match, '', $str);                            array_push($hashtags, $match);                        }                        echo '<p>' . $str . '</p>';                        echo '<hr>';                        echo '<ul class="hashtag">';                        foreach ($hashtags as $hashtag) {                            echo '<li>' . $hashtag . '</li>';                        }                        echo '</ul>';                    } */?>                    <?php/*                    */?>                </div>-->            </div>        </div>    </a>    </div><?php endif; ?>